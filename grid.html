<!DOCTYPE html>
<html lang="en">
<head>
    <title>Player characters on a grid</title>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/0.5.0/modern-normalize.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/styles.css">
</head>
<body>
    <header>
        <h1>Use the controls to move the characters.</h1>
    </header>

    <main>
        <table id="grid">
            <tr>
                <td data-x="0" data-y="0"></td>
                <td data-x="1" data-y="0"></td>
                <td data-x="2" data-y="0"></td>
                <td data-x="3" data-y="0"></td>
                <td data-x="4" data-y="0"></td>
                <td data-x="5" data-y="0"></td>
                <td data-x="6" data-y="0"></td>
                <td data-x="7" data-y="0"></td>
            </tr>
            <tr>
                <td data-x="0" data-y="1"></td>
                <td data-x="1" data-y="1"></td>
                <td data-x="2" data-y="1"></td>
                <td data-x="3" data-y="1"></td>
                <td data-x="4" data-y="1"></td>
                <td data-x="5" data-y="1"></td>
                <td data-x="6" data-y="1"></td>
                <td data-x="7" data-y="1"></td>
            </tr>
            <tr>
                <td data-x="0" data-y="2"></td>
                <td data-x="1" data-y="2"></td>
                <td data-x="2" data-y="2"></td>
                <td data-x="3" data-y="2"></td>
                <td data-x="4" data-y="2"></td>
                <td data-x="5" data-y="2"></td>
                <td data-x="6" data-y="2"></td>
                <td data-x="7" data-y="2"></td>
            </tr>
            <tr>
                <td data-x="0" data-y="3"></td>
                <td data-x="1" data-y="3"></td>
                <td data-x="2" data-y="3"></td>
                <td data-x="3" data-y="3"></td>
                <td data-x="4" data-y="3"></td>
                <td data-x="5" data-y="3"></td>
                <td data-x="6" data-y="3"></td>
                <td data-x="7" data-y="3"></td>
            </tr>
            <tr>
                <td data-x="0" data-y="4"></td>
                <td data-x="1" data-y="4"></td>
                <td data-x="2" data-y="4"></td>
                <td data-x="3" data-y="4"></td>
                <td data-x="4" data-y="4"></td>
                <td data-x="5" data-y="4"></td>
                <td data-x="6" data-y="4"></td>
                <td data-x="7" data-y="4"></td>
            </tr>
            <tr>
                <td data-x="0" data-y="5"></td>
                <td data-x="1" data-y="5"></td>
                <td data-x="2" data-y="5"></td>
                <td data-x="3" data-y="5"></td>
                <td data-x="4" data-y="5"></td>
                <td data-x="5" data-y="5"></td>
                <td data-x="6" data-y="5"></td>
                <td data-x="7" data-y="5"></td>
            </tr>
            <tr>
                <td data-x="0" data-y="6"></td>
                <td data-x="1" data-y="6"></td>
                <td data-x="2" data-y="6"></td>
                <td data-x="3" data-y="6"></td>
                <td data-x="4" data-y="6"></td>
                <td data-x="5" data-y="6"></td>
                <td data-x="6" data-y="6"></td>
                <td data-x="7" data-y="6"></td>
            </tr>
            <tr>
                <td data-x="0" data-y="7"></td>
                <td data-x="1" data-y="7"></td>
                <td data-x="2" data-y="7"></td>
                <td data-x="3" data-y="7"></td>
                <td data-x="4" data-y="7"></td>
                <td data-x="5" data-y="7"></td>
                <td data-x="6" data-y="7"></td>
                <td data-x="7" data-y="7"></td>
            </tr>
        </table>
    </main>

    <h2>Player 1</h2>
    <nav id="player1">
        <button data-direction="up">w</button>
        <button data-direction="left">a</button>
        <button data-direction="down">s</button>
        <button data-direction="right">f</button>
    </nav>

    <h2>Player 2</h2>
    <nav id="player2">
        <button data-direction="up">i</button>
        <button data-direction="left">j</button>
        <button data-direction="down">k</button>
        <button data-direction="right">l</button>
    </nav>

    <footer>
        <h3>Credits</h3>
        <ul>
            <li>Graphics courtesy of <a href="https://www.gameart2d.com/freebies.html">Game Art 2D</a>.</li>
            <li>Sprite sheet CSS courtesy of <a href="http://www.spritecow.com/">Sprite Cow</a>.</li>
        </ul>
    </footer>
    <script>
        let tbl = document.getElementById('grid');
        let cells = tbl.getElementsByTagName('td');

        for (let i = 0; i < cells.length; i++)
        {
            cells[i].style.backgroundImage = 'url("/stylesheets/freescifiplatform/png/Tiles/Tile (1).png")';
            cells[i].style.backgroundSize = "100px 100px";
            cells[i].style.width = '100px';
            cells[i].style.height = '100px';
        }

        let p1xCurrent = 0;
        let p1yCurrent = 0;

        let p2xCurrent = 7;
        let p2yCurrent = 7;




        tbl.rows[p1yCurrent].cells[p1xCurrent].innerHTML = "<img src = '/stylesheets/Dino Sprites/Idle (1).png' width='100'>";
        tbl.rows[p2yCurrent].cells[p2xCurrent].innerHTML = "<img src = '/stylesheets/Cat n Dog Sprites/dog/Idle (1).png' width='100'>";
        
        window.addEventListener('keydown', function(event) {

            if (event.defaultPrevented) {
                return;
            }

            switch(event.key) {
                case 'w': 
                    p1yCurrent--;
                    if( p1xCurrent == p2xCurrent && p1yCurrent == p2yCurrent) {
                        p1yCurrent++;
                        tbl.rows[p1yCurrent].cells[p1xCurrent].innerHTML = "<img src = '/stylesheets/Dino Sprites/Idle (1).png' width='100'>";

                    }
                    else if(p1yCurrent >= 0) {
                        tbl.rows[p1yCurrent+1].cells[p1xCurrent].innerHTML = "<img src = '/stylesheets/freescifiplatform/png/Tiles/Tile (1).png' width='100'>";
                        tbl.rows[p1yCurrent].cells[p1xCurrent].innerHTML = "<img src = '/stylesheets/Dino Sprites/Idle (1).png' width='100'>";
                    }
                    else {
                        p1yCurrent++;
                        tbl.rows[p1yCurrent].cells[p1xCurrent].innerHTML = "<img src = '/stylesheets/Dino Sprites/Idle (1).png' width='100'>";

                    }
                    break;

                case 'a':
                    p1xCurrent--;
                    if(p1xCurrent == p2xCurrent && p1yCurrent == p2yCurrent) {
                        p1xCurrent++;
                        tbl.rows[p1yCurrent].cells[p1xCurrent].innerHTML = "<img src = '/stylesheets/Dino Sprites/Idle (1).png' width='100'>";

                    }
                    else if(p1xCurrent >= 0) {
                        tbl.rows[p1yCurrent].cells[p1xCurrent+1].innerHTML = "<img src = '/stylesheets/freescifiplatform/png/Tiles/Tile (1).png' width='100'>";
                        tbl.rows[p1yCurrent].cells[p1xCurrent].innerHTML = "<img src = '/stylesheets/Dino Sprites/Idle (1).png' width='100'>";
                    }
                    else {
                        p1xCurrent++;
                        tbl.rows[p1yCurrent].cells[p1xCurrent].innerHTML = "<img src = '/stylesheets/Dino Sprites/Idle (1).png' width='100'>";

                    }
                    break;

                case 's':
                    p1yCurrent++;
                    if(p1xCurrent == p2xCurrent && p1yCurrent == p2yCurrent) {
                        p1yCurrent--;
                        tbl.rows[p1yCurrent].cells[p1xCurrent].innerHTML = "<img src = '/stylesheets/Dino Sprites/Idle (1).png' width='100'>";

                    }
                    else if(p1yCurrent < 8) {
                        tbl.rows[p1yCurrent-1].cells[p1xCurrent].innerHTML = "<img src = '/stylesheets/freescifiplatform/png/Tiles/Tile (1).png' width='100'>";
                        tbl.rows[p1yCurrent].cells[p1xCurrent].innerHTML = "<img src = '/stylesheets/Dino Sprites/Idle (1).png' width='100'>";
                    }
                    else {
                        p1yCurrent--;
                        tbl.rows[p1yCurrent].cells[p1xCurrent].innerHTML = "<img src = '/stylesheets/Dino Sprites/Idle (1).png' width='100'>";
                    }
                    break;

                case 'd':
                    p1xCurrent++;
                    if(p1xCurrent == p2xCurrent && p1yCurrent == p2yCurrent) {
                        p1xCurrent--;
                        tbl.rows[p1yCurrent].cells[p1xCurrent].innerHTML = "<img src = '/stylesheets/Dino Sprites/Idle (1).png' width='100'>";

                    }
                    else if(p1xCurrent < 8) {
                        tbl.rows[p1yCurrent].cells[p1xCurrent-1].innerHTML = "<img src = '/stylesheets/freescifiplatform/png/Tiles/Tile (1).png' width='100'>";
                        tbl.rows[p1yCurrent].cells[p1xCurrent].innerHTML = "<img src = '/stylesheets/Dino Sprites/Idle (1).png' width='100'>";
                    }
                    else {
                        p1xCurrent--;
                        tbl.rows[p1yCurrent].cells[p1xCurrent].innerHTML = "<img src = '/stylesheets/Dino Sprites/Idle (1).png' width='100'>";

                    }
                    break;

                case 'i':
                    p2yCurrent--;
                    if(p1xCurrent == p2xCurrent && p1yCurrent == p2yCurrent) {
                        p2yCurrent++;
                        tbl.rows[p2yCurrent].cells[p2xCurrent].innerHTML = "<img src = '/stylesheets/Cat n Dog Sprites/dog/Idle (1).png' width='100'>";

                    }
                    else if(p2yCurrent >= 0) {
                        tbl.rows[p2yCurrent+1].cells[p2xCurrent].innerHTML = "<img src = '/stylesheets/freescifiplatform/png/Tiles/Tile (1).png' width='100'>";
                        tbl.rows[p2yCurrent].cells[p2xCurrent].innerHTML = "<img src = '/stylesheets/Cat n Dog Sprites/dog/Idle (1).png' width='100'>";
                    }
                    else {
                        p2yCurrent++;
                        tbl.rows[p2yCurrent].cells[p2xCurrent].innerHTML = "<img src = '/stylesheets/Cat n Dog Sprites/dog/Idle (1).png' width='100'>";
                    }
                    break;
                case 'j':
                    p2xCurrent--;
                    if(p1xCurrent == p2xCurrent && p1yCurrent == p2yCurrent) {
                        p2xCurrent++;
                        tbl.rows[p2yCurrent].cells[p2xCurrent].innerHTML = "<img src = '/stylesheets/Cat n Dog Sprites/dog/Idle (1).png' width='100'>";

                    }
                    else if(p2xCurrent >= 0) {
                        tbl.rows[p2yCurrent].cells[p2xCurrent+1].innerHTML = "<img src = '/stylesheets/freescifiplatform/png/Tiles/Tile (1).png' width='100'>";
                        tbl.rows[p2yCurrent].cells[p2xCurrent].innerHTML = "<img src = '/stylesheets/Cat n Dog Sprites/dog/Idle (1).png' width='100'>";
                    }
                    else {
                        p2xCurrent++;
                        tbl.rows[p2yCurrent].cells[p2xCurrent].innerHTML = "<img src = '/stylesheets/Cat n Dog Sprites/dog/Idle (1).png' width='100'>";
                    }
                    break;
                case 'k':
                    p2yCurrent++;
                    if(p1xCurrent == p2xCurrent && p1yCurrent == p2yCurrent) {
                        p2yCurrent--;
                        tbl.rows[p2yCurrent].cells[p2xCurrent].innerHTML = "<img src = '/stylesheets/Cat n Dog Sprites/dog/Idle (1).png' width='100'>";

                    }
                    else if(p2yCurrent < 8) {
                        tbl.rows[p2yCurrent-1].cells[p2xCurrent].innerHTML = "<img src = '/stylesheets/freescifiplatform/png/Tiles/Tile (1).png' width='100'>";
                        tbl.rows[p2yCurrent].cells[p2xCurrent].innerHTML = "<img src = '/stylesheets/Cat n Dog Sprites/dog/Idle (1).png' width='100'>";
                    }
                    else {
                        p2yCurrent--;
                        tbl.rows[p2yCurrent].cells[p2xCurrent].innerHTML = "<img src = '/stylesheets/Cat n Dog Sprites/dog/Idle (1).png' width='100'>";
                    }
                    break;
                case 'l':
                    p2xCurrent++;
                    if(p1xCurrent == p2xCurrent && p1yCurrent == p2yCurrent) {
                        p2xCurrent--;
                        tbl.rows[p2yCurrent].cells[p2xCurrent].innerHTML = "<img src = '/stylesheets/Cat n Dog Sprites/dog/Idle (1).png' width='100'>";

                    }
                    else if(p2xCurrent < 8) {
                        tbl.rows[p2yCurrent].cells[p2xCurrent-1].innerHTML = "<img src = '/stylesheets/freescifiplatform/png/Tiles/Tile (1).png' width='100'>";
                        tbl.rows[p2yCurrent].cells[p2xCurrent].innerHTML = "<img src = '/stylesheets/Cat n Dog Sprites/dog/Idle (1).png' width='100'>";
                    }
                    else {
                        p2xCurrent--;
                        tbl.rows[p2yCurrent].cells[p2xCurrent].innerHTML = "<img src = '/stylesheets/Cat n Dog Sprites/dog/Idle (1).png' width='100'>";
                    }
                    break;
                default:
                    return;

            }

            event.preventDefault();
        }, true);

        /*let p1Move = document.getElementById('p1Loc');
        let p1Img = '/stylesheets/Dino Sprites/Idle (1).png';
        p1Move.appendChild(p1Img);*/

    </script>
</body>
</html>
